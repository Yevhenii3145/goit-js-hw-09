{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtB,IAAIC,SAAQ,CAACC,EAASC,KAChCL,GACFI,EAAQ,uBAAqBN,QAAiBC,OAE9CM,EAAK,sBAAoBP,QAAeC,UAG9C,MAAMO,EAAUC,SAASC,cAAc,SACjCC,EAAWF,SAASC,cAAc,kBAClCE,EAAUH,SAASC,cAAc,iBAGvC,IAAIG,EAFcJ,SAASC,cAAc,mBAElBI,MAEvB,MAAMC,EAAgB,KACtBP,EAAQQ,iBAAiB,UACzB,WACE,MAAMC,EAAUN,EAASG,MAEnBd,GADQY,EAAQE,MACL,GACjBI,YAAW,KACLH,IAAkBF,IAGtBd,EAAcC,EAAUiB,GACrBE,MAAK,KACJtB,EAAAuB,OAAOC,QAAQC,WAEhBC,OAAM,KACL1B,EAAAuB,OAAOI,QAAQC,UAEnBV,GAAiB,EACjBf,GAAY,KACXiB,GACHS,aAAY,KACNX,IAAkBF,GAGtBd,EAAcC,EAAU2B,WACvBA","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  const promise = new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    }\n    reject(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n}\nconst formRef = document.querySelector('.form');\nconst delayRef = document.querySelector('[name=\"delay\"]');\nconst stepRef = document.querySelector('[name=\"step\"]');\nconst amountRef = document.querySelector('[name=\"amount\"]');\n\nlet amount = amountRef.value;\n// console.log(amount);\nconst currentAmount = null;\nformRef.addEventListener('submit', constructor);\nfunction constructor() {\n  const firsDal = delayRef.value;\n  const delay = stepRef.value;\n  const position = 1;\n  setTimeout(() => {\n    if (currentAmount === amount) {\n      return;\n    }\n    createPromise(position, firsDal)\n      .then(() => {\n        Notify.success(result);\n      })\n      .catch(() => {\n        Notify.failure(error);\n      });\n    currentAmount += 1;\n    position += 1;\n  }, firsDal);\n  setInterval(() => {\n    if (currentAmount === amount) {\n      return;\n    }\n    createPromise(position, delStep);\n  }, delStep);\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","$47d4ff9957288465$var$formRef","document","querySelector","$47d4ff9957288465$var$delayRef","$47d4ff9957288465$var$stepRef","$47d4ff9957288465$var$amount","value","$47d4ff9957288465$var$currentAmount","addEventListener","firsDal","setTimeout","then","Notify","success","result","catch","failure","error","setInterval","delStep"],"version":3,"file":"03-promises.694e5a49.js.map"}